# Java后端学习路线-2020

​		本文用一个**完整的电商系统**作为切入点，带着大家看看，Java后端我们需要学些啥。

​		在写这个文章之前，我花了点时间，自己臆想了一个电商系统，基本上算是麻雀虽小五脏俱全，我今天就用它开刀，一步步剖析，我会讲一下我们可能会接触的技术栈可能不全，但是够用，最后给个学习路线。


![img](https://tva1.sinaimg.cn/large/0082zybply1gc38wcq387j30mh0ohac8.jpg)

## 前端

你可能会会好奇，你不是讲后端学习路线嘛，为啥还有前端的部分，我只能告诉你，傻瓜，肤浅。

我们可不能闭门造车，谁告诉你后端就不学点前端了？

前端现在很多也了解后端的技术栈的，你想我们去一个网站，最先接触的，最先看到的是啥？

没错就是前端，在大学你要是找不到专门的前端同学，去做系统肯定也要自己顶一下前端的，那我觉得最基本的技术栈得熟悉和了解吧，管理系统主要是VUE和React。

在这里我列举了我目前觉得比较简单和我们后端可以了解的技术栈，都是比较基础的。

作为一名后端了解部分前端知识还是很有必要的，在以后开发的时候，公司有前端那能帮助你前后端联调更顺畅，如果没前端你自己也能顶一下简单的页面。

HTML、CSS、JS、Ajax我觉得是必须掌握的点，看着简单其实深究或者去操作的话还是有很多东西的，其他作为扩展有兴趣可以了解，反正入门简单，只是精通很难很难。

在这一层不光有这些还有Http协议和Servlet，request、response、cookie、session这些也会伴随你整个技术生涯，理解他们对后面的你肯定有不少好处。
![img](https://tva1.sinaimg.cn/large/0082zybply1gca2egz8c9j30ia0gb75g.jpg)

Tip：我这里最后删除了JSP相关的技术，我个人觉得没必要学了，很多公司除了老项目之外，新项目都不会使用那些技术了。

​		前端在我看来比后端难，技术迭代比较快，知识好像也没特定的体系，所以面试大厂的前端很多朋友都说难，不是技术多难，而是知识多且复杂，找不到一个完整的体系，相比之下后端明朗很多，我后面就开始讲后端了。



## 后端

### 网关层：

![img](https://tva1.sinaimg.cn/large/0082zybply1gca2j17y77j30lv0alq3o.jpg)

​		互联网发展到现在，涌现了很多互联网公司，技术更新迭代了很多个版本，从早期的单机时代，到现在超大规模的互联网时代，几亿人参与的春运，几千亿成交规模的双十一，无数互联网前辈的造就了现在互联网的辉煌。

微服务，分布式，负载均衡等我们经常提到的这些名词都是这些技术在场景背后支撑。

单机顶不住，我们就多找点服务器，但是怎么将流量均匀的打到这些服务器上呢？

负载均衡，LVS

我们机器都是IP访问的，那怎么通过我们申请的域名去请求到服务器呢？

DNS

大家刷的抖音，B站，快手等等视频服务商，是怎么保证同时为全国的用户提供快速的体验？

CDN

我们这么多系统和服务，还有这么多中间件的调度怎么去管理调度等等？

zk

这么多的服务器，怎么对外统一访问呢，就可能需要知道反向代理的服务器。

Nginx


![img](https://tva1.sinaimg.cn/large/0082zybply1gc9q5kvyoyj30j40e275g.jpg)

这一层做了**反向负载、服务路由、服务治理、流量管理、安全隔离、服务容错**等等都做了，大家公司的**内外网隔离**也是这一层做的。

我之前还接触过一些比较有意思的项目，所有对外的接口都是加密的，几十个服务会经过网关解密，找到真的路由再去请求。

这一层的知识点其实也不少，你往后面学会发现**分布式事务，分布式锁**，还有很多中间件都离不开**zk**这一层，我们继续往下看。















### 服务层：

![img](https://tva1.sinaimg.cn/large/0082zybply1gca2r1pcjqj30z40tuwhk.jpg)

这一层有点东西了，算是整个框架的核心，如果从事后端开发的话，我们基本上整个技术生涯，大部分时间都在跟这一层的技术栈打交道了，各种琳琅满目的中间件，计算机基础知识，Linux操作，算法数据结构，架构框架，研发工具等等。

我想在看这个文章的各位，计算机基础肯定都是学过的吧，如果大学的时候没好好学，我觉得还是有必要再看看的。

为什么我们网页能保证安全可靠的传输，你可能会了解到**HTTP，TCP协议**，什么**三次握手，四次挥手**。

还有**进程、线程、协程**，什么**内存屏障，指令乱序，分支预测，CPU亲和性**等等，在之后的编程生涯，如果你能掌握这些东西，会让你在遇到很多问题的时候瞬间get到点，而不是像个无头苍蝇一样乱撞（然而丙丙还做得不够）。

了解这些计算机知识后，你就需要接触编程语言了，大学的C语言基础会让你学什么语言入门都会快点，我选择了**面向对象的JAVA**，但是也不知道为啥现在还没对象。

JAVA的基础也一样重要，**面向对象（包括类、对象、方法、继承、封装、抽象、 多态、消息解析等）**，常见API，数据结构，集合框架，设计模式（包括**创建型、结构型、行为型**），**多线程和并发**，**I/O流，Stream，网络编程**你都需要了解。

代码会写了，你就要开始学习一些能帮助你把系统变得更加规范的框架，**SSM**可以会让你的开发更加便捷，结构层次更加分明。

写代码的时候你会发现你大学用的Eclipse在公司看不到了，你跟大家一样去用了**IDEA**，第一天这是什么玩意，一周后，真香，但是这玩意收费有点贵，那免费的VSCode真的就是不错的选择了。

代码写的时候你会接触代码的**仓库管理工具maven、Gradle**，提交代码的时候会去写项目版本管理工具**Git**。

代码提交之后，发布之后你会发现很多东西需要自己去服务器亲自排查，那**Linux的知识点**就可以在里面灵活运用了，**查看进程，查看文件，各种Vim操作**等等。

系统的优化很多地方没优化的空间了，你可能会尝试从算法，或者优化数据结构去优化，你看到了**HashMap的源码**，想去了解**红黑树**，然后在算法网上看到了**二叉树搜索树**和各种常见的算法问题，刷多了，你也能总结出精华所在，什么**贪心，分治，动态规划**等。

这么多个服务，你发现**HTTP请求**已经开始有点不满足你的需求了，你想开发更便捷，像访问本地服务一样访问远程服务，所以我们去了解了**Dubbo，Spring cloud**。

![img](https://tva1.sinaimg.cn/large/0082zybply1gca8iiaedgj30zk0eddl9.jpg)

了解Dubbo的过程中，你发现了**RPC**的精华所在，所以你去接触到了**高性能的NIO框架，Netty**。

代码写好了，服务也能通信了，但是你发现你的代码链路好长，都耦合在一起了，所以你接触了**消息队列**，这种异步的处理方式，真香。

他还可以帮你在突发流量的时候用**队列做缓冲**，但是你发现分布式的情况，事务就不好管理了，你就了解到了**分布式事务，什么两段式，三段式，TCC，XA，阿里云的全局事务服务GTS**等等。

分布式事务的时候你会想去了解**RocketMQ**，因为他自带了分布式事务的解决方案，大数据的场景你又看到了**Kafka**。

我上面提到过**zk**，像**Dubbo**、**Kafka**等中间件都是用它做注册中心的，所以很多技术栈最后都组成了一个知识体系，你先了解了体系中的每一员，你才能把它们联系起来。

![image-20200302150406225](/Users/xiaoxiangyuzhu/Library/Application Support/typora-user-images/image-20200302150406225.png)

















### 数据层：

![img](https://tva1.sinaimg.cn/large/0082zybply1gca2xow3fwj30qf08mt9j.jpg)

数据库可能是整个系统中最值钱的部分了，在我码文字的前一天，刚好发生了微盟程序员删库跑路的操作，删库跑路其实是我们在网上最常用的笑话，没想到还是照进了现实。

这里也提一点点吧，36小时的故障，其实在互联网公司应该是个笑话了吧，权限控制没做好类似**rm -rf 、fdisk、drop**等等这样的高危命令是可以实时拦截掉的，**备份，全量备份，增量备份，延迟备份，异地容灾**全部都考虑一下应该也不至于这样，一家上市公司还是有点点不应该。

![img](https://tva1.sinaimg.cn/large/0082zybply1gca2xzrftyj30u406dwf6.jpg)

数据库基本的事务隔离级别，索引，SQL，主被同步，读写分离等都可能是你学的时候要了解到的。

上面我们提到了安全，不要把鸡蛋放一个篮子的道理大家应该都知道，那分库的意义就很明显了，然后你会发现时间久了表的数据大了，就会想到去接触分表，什么TDDL、Sharding-JDBC、DRDS这些插件都会接触到。

你发现流量大的时候，或者热点数据打到数据库还是有点顶不住，压力太大了，那非关系型数据库就进场了，Redis当然是首选，但是MongoDB、memcache也有各自的应用场景。

Redis使用后，真香，真快，但是你会开始担心最开始提到的安全问题，这玩意快是因为在内存中操作，那断点了数据丢了怎么办？你就开始阅读官方文档，了解RDB，AOF这些持久化机制，线上用的时候还会遇到缓存雪崩击穿、穿透等等问题。

单机不满足你就用了，他的集群模式，用了集群可能也担心集群的健康状态，所以就得去了解哨兵，他的主从同步，时间久了Key多了，就得了解内存淘汰机制……

他的大容量存储有问题，你可能需要去了解Pika….
![img](https://tva1.sinaimg.cn/large/0082zybply1gca8hgck8uj30rq0lytl2.jpg)



















### 实时/离线/大数据

![image-20200302151037344](/Users/xiaoxiangyuzhu/Library/Application Support/typora-user-images/image-20200302151037344.png)

等你把几种关系型非关系型数据库的知识点，整理清楚后，你会发现数据还是大啊，而且数据的场景越来越多多样化了，那大数据的各种中间件你就得了解了。

你会发现很多场景，不需要实时的数据，比如你查你的支付宝去年的，上个月的账单，这些都是不会变化的数据，没必要实时，那你可能会接触像**ODPS这样的中间件**去做数据的离线分析。

然后你可能会接触**Hadoop**系列相关的东西，比如于Hadoop（HDFS）的一个数据仓库工具**Hive**，是建立在 Hadoop 文件系统之上的分布式面向列的数据库HBase 。

写多的场景，适合做一些简单查询，用他们又有点大材小用，那**Cassandra**就再合适不过了。

离线的数据分析没办法满足一些实时的常见，类似风控，那Flink你也得略知一二，他的窗口思想还是很有意思。

数据接触完了，计算引擎Spark你是不是也不能放过……












### 搜索引擎：

![img](https://tva1.sinaimg.cn/large/0082zybply1gca3dupq1wj30ws0goady.jpg)

传统关系型数据库和NoSQL非关系型数据都没办法解决一些问题，比如我们在百度，淘宝搜索东西的时候，往往都是几个关键字在一起一起搜索东西的，在数据库除非把几次的结果做交集，不然很难去实现。

那全文检索引擎就诞生了，解决了搜索的问题，你得思考怎么把数据库的东西实时同步到ES中去，那你可能会思考到logstash去定时跑脚本同步，又或者去接触伪装成一台MySQL从服务的Canal，他会去订阅MySQL主服务的binlog，然后自己解析了去操作Es中的数据。

这些都搞定了，那可视化的后台查询又怎么解决呢？Kibana，他他是一个可视化的平台，甚至对Es集群的健康管理都做了可视化，很多公司的日志查询系统都是用它做的。













### 学习总路线

![00831rSTly1gcbee53k7gj30u0149dov](/Users/xiaoxiangyuzhu/Documents/LearningExperience/00831rSTly1gcbee53k7gj30u0149dov.jpg)